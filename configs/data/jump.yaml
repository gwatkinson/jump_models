_target_: src.models.jump_cl.datamodule.BasicJUMPDataModule

batch_size: ???
num_workers: ???
pin_memory: False
prefetch_factor: 2

collate_fn:
  _target_: src.modules.collate_fn.dgl_image.image_graph_collate_function
  _partial_: true

transform:
  _target_: src.modules.transforms.DefaultJUMPTransform
  _convert_: object
  size: 256
  dim: [-2, -1]

compound_transform:
  _target_: src.modules.dgllife_pretrained.molecules.dgl_mol_featurizer
  _partial_: true

splitter:
  _target_: src.splitters.ScaffoldSplitter
  train: ???
  test: ???
  val: ???

# example: ${paths.split_path}/small_test/
split_path: ???


dataloader_config:
  train:
    batch_size: ${data.batch_size}
    num_workers: ${data.num_workers}
    pin_memory: ${data.pin_memory}
    prefetch_factor: ${data.prefetch_factor}
    shuffle: True
  val:
    batch_size: ${data.batch_size}
    num_workers: ${data.num_workers}
    pin_memory: ${data.pin_memory}
    prefetch_factor: ${data.prefetch_factor}
    shuffle: False
  test:
    batch_size: ${data.batch_size}
    num_workers: ${data.num_workers}
    pin_memory: ${data.pin_memory}
    prefetch_factor: ${data.prefetch_factor}
    shuffle: False


image_metadata_path: ${paths.metadata_path}/images_metadata.parquet
compound_metadata_path: ${paths.metadata_path}/compound_dict.json
compound_col: Metadata_InChI
image_sampler: null
metadata_dir: /projects/cpjump1/jump/metadata/complete_metadata.csv
local_load_data_dir: /projects/cpjump1/jump/load_data/final/

index_str: "{Metadata_Source}__{Metadata_Batch}__{Metadata_Plate}__{Metadata_Well}__{Metadata_Site}"
channels: [DNA,AGP,ER,Mito,RNA]
col_fstring: "FileName_Orig{channel}"
id_cols: [Metadata_Source,Metadata_Batch,Metadata_Plate,Metadata_Well]
extra_cols: [Metadata_PlateType,Metadata_Site]

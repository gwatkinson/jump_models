_target_: src.data.jump_datamodule.BasicJUMPDataModule
image_metadata_path: ${paths.metadata_path}/images_metadata.parquet
compound_metadata_path: ${paths.metadata_path}/compound_dict.json
compound_col: Metadata_InChI
split_path: ${paths.split_path}/small_test/

batch_size: 32
num_workers: 8
pin_memory: True

dataloader_config:
  train:
    batch_size: ${data.batch_size}
    num_workers: ${data.num_workers}
    pin_memory: ${data.pin_memory}
    shuffle: True
  val:
    batch_size: ${data.batch_size}
    num_workers: ${data.num_workers}
    pin_memory: ${data.pin_memory}
    shuffle: False
  test:
    batch_size: ${data.batch_size}
    num_workers: ${data.num_workers}
    pin_memory: ${data.pin_memory}
    shuffle: False

transform:
  _target_: src.data_utils.transforms.DefaultJUMPTransform
  _convert_: object
  size: 256
  dim: [-2, -1]

compound_transform:
  _target_: src.models.simple_jump_cl.molecule_encoder.molecule_transform
  _partial_: true

image_sampler: null
metadata_dir: /projects/cpjump1/jump/metadata/complete_metadata.csv
local_load_data_dir: /projects/cpjump1/jump/load_data/final/

splitter:
  _target_: src.data.splits.ScaffoldSplitter
  train: 800
  test: 200
  val: 100

index_str: "{Metadata_Source}__{Metadata_Batch}__{Metadata_Plate}__{Metadata_Well}__{Metadata_Site}"
channels: [DNA,AGP,ER,Mito,RNA]
col_fstring: "FileName_Orig{channel}"
id_cols: [Metadata_Source,Metadata_Batch,Metadata_Plate,Metadata_Well]
extra_cols: [Metadata_PlateType,Metadata_Site]
